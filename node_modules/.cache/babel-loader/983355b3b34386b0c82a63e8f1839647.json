{"remainingRequest":"D:\\Programs\\Project\\project-eveil\\node_modules\\babel-loader\\lib\\index.js!D:\\Programs\\Project\\project-eveil\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Programs\\Project\\project-eveil\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Programs\\Project\\project-eveil\\src\\components\\compose\\compose_main.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Programs\\Project\\project-eveil\\src\\components\\compose\\compose_main.vue","mtime":1587468654592},{"path":"D:\\Programs\\Project\\project-eveil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\project-eveil\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\project-eveil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\project-eveil\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlY2VpdmVyX2VtYWlsOiAiIiwKICAgICAgc3ViamVjdDogIiIsCiAgICAgIG1lc3NhZ2U6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgdGltZTogIiIsCiAgICAgIGRhdGU6ICIiLAogICAgICBjYW5TZW5kRmxhZzogZmFsc2UsCiAgICAgIG1haWxUeXBlOiAiIiwKICAgICAgY291bnRlckluY0ZsYWc6IGZhbHNlLAogICAgICBzZW5kX2NvdW50OiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2VuZE5vcm1hbEVtYWlsOiBmdW5jdGlvbiBzZW5kTm9ybWFsRW1haWwoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5tYWlsVHlwZSA9ICJOb3JtYWwiOwogICAgICB0aGlzLnNlbmRFbWFpbCgpOwogICAgfSwKICAgIHNlbmRFbWFpbEFub255bW91c2x5OiBmdW5jdGlvbiBzZW5kRW1haWxBbm9ueW1vdXNseShldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLm1haWxUeXBlID0gIkFub255bW91cyI7CiAgICAgIHRoaXMuc2VuZEVtYWlsKCk7CiAgICB9LAogICAgc2VuZEVtYWlsOiBmdW5jdGlvbiBzZW5kRW1haWwoKSB7CiAgICAgIGlmICh0aGlzLnJlY2VpdmVyX2VtYWlsID09ICIiIHx8IHRoaXMuc3ViamVjdCA9PSAiIiB8fCB0aGlzLm1lc3NhZ2UgPT0gIiIpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZW1wdHlGaWVsZEVycm9yIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVtcHR5RmllbGRFcnJvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CgogICAgICAgIGlmICh0aGlzLnZlcmlmeVNlbmRlcigpID09IGZhbHNlKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW52YWxpZEVtYWlsIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdmVyaWZ5U2VuZGVyOiBmdW5jdGlvbiB2ZXJpZnlTZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5yZWNlaXZlcl9lbWFpbC5sZW5ndGggPCAxMSkgcmV0dXJuIGZhbHNlOwogICAgICBpZiAoIXRoaXMucmVjZWl2ZXJfZW1haWwuaW5jbHVkZXMoIkBldmVpbC5jb20iKSkgcmV0dXJuIGZhbHNlOwogICAgICB2YXIgdG9fdWlkID0gdGhpcy5yZWNlaXZlcl9lbWFpbC5zdWJzdHJpbmcoMCwgdGhpcy5yZWNlaXZlcl9lbWFpbC5sZW5ndGggLSAxMCk7CiAgICAgIHZhciByZWYgPSAidXNlci8iICsgdG9fdWlkOwogICAgICB2YXIgdXNlclJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKHJlZik7CiAgICAgIHVzZXJSZWYub24oInZhbHVlIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICB2YXIgYWxsZGF0YSA9IGRhdGEudmFsKCk7CgogICAgICAgIGlmIChhbGxkYXRhID09PSBudWxsIHx8IGFsbGRhdGEgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImludmFsaWRFbWFpbCIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW52YWxpZEVtYWlsIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgIF90aGlzLmNhblNlbmRGbGFnID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJVc2VyRGF0YSkgewogICAgICAgIGNvbnNvbGUubG9nKGVyclVzZXJEYXRhKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZVJlY2VpdmVyOiBmdW5jdGlvbiB1cGRhdGVSZWNlaXZlcigpIHsKICAgICAgLy9VcGRhdGUgcmVjZWl2ZXIgREIKICAgICAgdmFyIHRvX3VpZCA9IHRoaXMucmVjZWl2ZXJfZW1haWwuc3Vic3RyaW5nKDAsIHRoaXMucmVjZWl2ZXJfZW1haWwubGVuZ3RoIC0gMTApOwogICAgICB2YXIgcmVmLCB0b191c2VyUmVmLCBuZXdFbWFpbFJlZjsKCiAgICAgIGlmICh0aGlzLm1haWxUeXBlID09ICJOb3JtYWwiKSB7CiAgICAgICAgcmVmID0gImVtYWlscy8iICsgdG9fdWlkICsgIi9yZWNlaXZlZCI7CiAgICAgICAgdG9fdXNlclJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKHJlZik7CiAgICAgICAgbmV3RW1haWxSZWYgPSB0b191c2VyUmVmLnB1c2goKTsKICAgICAgICBuZXdFbWFpbFJlZi5zZXQoewogICAgICAgICAgZnJvbTogdGhpcy5lbWFpbCwKICAgICAgICAgIHN1YmplY3Q6IHRoaXMuc3ViamVjdCwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSwKICAgICAgICAgIGJpbjogIjAiLAogICAgICAgICAgc2VlbjogIjAiLAogICAgICAgICAgdGltZTogdGhpcy50aW1lLAogICAgICAgICAgZGF0ZTogdGhpcy5kYXRlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVmID0gImVtYWlscy8iICsgdG9fdWlkICsgIi92ZWlsYm94IjsKICAgICAgICB0b191c2VyUmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYocmVmKTsKICAgICAgICBuZXdFbWFpbFJlZiA9IHRvX3VzZXJSZWYucHVzaCgpOwogICAgICAgIG5ld0VtYWlsUmVmLnNldCh7CiAgICAgICAgICBmcm9tOiAiQW5vbnltb3VzIiwKICAgICAgICAgIHN1YmplY3Q6IHRoaXMuc3ViamVjdCwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSwKICAgICAgICAgIGJpbjogIjAiLAogICAgICAgICAgc2VlbjogIjAiLAogICAgICAgICAgdGltZTogdGhpcy50aW1lLAogICAgICAgICAgZGF0ZTogdGhpcy5kYXRlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRUaW1lOiBmdW5jdGlvbiBnZXRUaW1lKCkgewogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICB0aGlzLnRpbWUgPSB0b2RheS5nZXRIb3VycygpICsgIjoiICsgdG9kYXkuZ2V0TWludXRlcygpICsgIjoiICsgdG9kYXkuZ2V0U2Vjb25kcygpOwogICAgICB0aGlzLmRhdGUgPSB0b2RheS5nZXREYXRlKCkgKyAiLSIgKyAodG9kYXkuZ2V0TW9udGgoKSArIDEpICsgIi0iICsgdG9kYXkuZ2V0RnVsbFllYXIoKTsKICAgIH0sCiAgICB1cGRhdGVTZW5kZXI6IGZ1bmN0aW9uIHVwZGF0ZVNlbmRlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvL1VwZGF0ZSBzZW5kZXIgREIKICAgICAgdmFyIHJlZiA9ICJlbWFpbHMvIiArIHRoaXMudXNlcm5hbWUgKyAiL3NlbnQiOwogICAgICB2YXIgdXNlclJlZiA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKHJlZik7CiAgICAgIHZhciBuZXdFbWFpbFJlZiA9IHVzZXJSZWYucHVzaCgpOwogICAgICBuZXdFbWFpbFJlZi5zZXQoewogICAgICAgIHRvOiB0aGlzLnJlY2VpdmVyX2VtYWlsLAogICAgICAgIHN1YmplY3Q6IHRoaXMuc3ViamVjdCwKICAgICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsCiAgICAgICAgYmluOiAiMCIsCiAgICAgICAgdGltZTogdGhpcy50aW1lLAogICAgICAgIGRhdGU6IHRoaXMuZGF0ZQogICAgICB9KTsgLy9pbmNyZWFzZSBzZW5kIGNvdW50IG9mIHNlbmRlcgogICAgICAvL0dldCBjdXJyZW50IHNlbmRFbWFpbCBjb3VudAoKICAgICAgcmVmID0gInVzZXIvIiArIHRoaXMudXNlcm5hbWU7CiAgICAgIHVzZXJSZWYgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZihyZWYpOwogICAgICB1c2VyUmVmLm9uKCJ2YWx1ZSIsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMyLnNlbmRfY291bnQgPSBkYXRhLnZhbCgpLnNlbnRfZW1haWw7CiAgICAgICAgX3RoaXMyLmNvdW50ZXJJbmNGbGFnID0gdHJ1ZTsKICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgICB0aGlzLnJlY2VpdmVyX2VtYWlsID0gIiI7CiAgICAgIHRoaXMuc3ViamVjdCA9ICIiOwogICAgICB0aGlzLm1lc3NhZ2UgPSAiIjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1Y2Nlc3NmdWxseS1zZW50LW1vZGFsLWJ0biIpLmNsaWNrKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5lbWFpbCA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5lbWFpbDsKICAgIHRoaXMudXNlcm5hbWUgPSB0aGlzLmVtYWlsLnN1YnN0cmluZygwLCB0aGlzLmVtYWlsLmxlbmd0aCAtIDEwKTsKICB9LAogIHdhdGNoOiB7CiAgICBjYW5TZW5kRmxhZzogZnVuY3Rpb24gY2FuU2VuZEZsYWcoKSB7CiAgICAgIGlmICh0aGlzLmNhblNlbmRGbGFnKSB7CiAgICAgICAgdGhpcy5nZXRUaW1lKCk7CiAgICAgICAgdGhpcy51cGRhdGVSZWNlaXZlcigpOwogICAgICAgIHRoaXMudXBkYXRlU2VuZGVyKCk7CiAgICAgICAgdGhpcy5yZXNldEZvcm0oKTsKICAgICAgfQoKICAgICAgdGhpcy5jYW5TZW5kRmxhZyA9IGZhbHNlOwogICAgfSwKICAgIGNvdW50ZXJJbmNGbGFnOiBmdW5jdGlvbiBjb3VudGVySW5jRmxhZygpIHsKICAgICAgaWYgKHRoaXMuY291bnRlckluY0ZsYWcpIHsKICAgICAgICB2YXIgcmVmID0gInVzZXIvIiArIHRoaXMudXNlcm5hbWU7CiAgICAgICAgdGhpcy5zZW5kX2NvdW50Kys7CiAgICAgICAgdmFyIGZyb21fdXNlclJlZl9jb3VudCA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKHJlZik7CiAgICAgICAgZnJvbV91c2VyUmVmX2NvdW50LnVwZGF0ZSh7CiAgICAgICAgICBzZW50X2VtYWlsOiB0aGlzLnNlbmRfY291bnQKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5jb3VudGVySW5jRmxhZyA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["compose_main.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <!-- Topbar will be here -->\r\n    <component v-bind:is=\"'Navbar'\"></component>\r\n    <div class=\"wrapper-body\">\r\n      <!-- Sidebar -->\r\n      <component v-bind:is=\"'Sidebar'\"></component>\r\n      <div class=\"body-container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12 col-sm-12 col-md-10 col-lg-8 col-xl-8\">\r\n            <form class=\"compose-container\">\r\n              <div class=\"row justify-content-center\">\r\n                <div\r\n                  class=\"col-md-6 col-lg-6 col-xl-6 error-msg\"\r\n                  id=\"emptyFieldError\"\r\n                  style=\"text-align:center;\"\r\n                >Field can't be empty!</div>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"receiver_email\">To</label>\r\n                <input\r\n                  type=\"email\"\r\n                  class=\"form-control\"\r\n                  id=\"receiver_email\"\r\n                  v-model=\"receiver_email\"\r\n                  placeholder=\"email@eveil.com\"\r\n                />\r\n                <small id=\"invalidEmail\" class=\"error-msg\">Invalid Email!</small>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <input type=\"text\" class=\"form-control\" v-model=\"subject\" placeholder=\"Subject\" />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <textarea\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  rows=\"4\"\r\n                  v-model=\"message\"\r\n                  placeholder=\"Enter your message\"\r\n                />\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 left-btn-container\">\r\n                  <button class=\"eveilbtn\" type=\"submit\" @click=\"sendNormalEmail\">Send</button>\r\n                </div>\r\n                <div class=\"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 right-btn-container\">\r\n                  <button\r\n                    class=\"eveilbtn\"\r\n                    type=\"submit\"\r\n                    @click=\"sendEmailAnonymously\"\r\n                  >Send Anonymously</button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Button trigger modal -->\r\n    <button\r\n      id=\"successfully-sent-modal-btn\"\r\n      style=\"display:none;\"\r\n      data-toggle=\"modal\"\r\n      data-target=\"#successfully-sent-modal\"\r\n    ></button>\r\n\r\n    <!-- Modal -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"successfully-sent-modal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"successfully-sent-modalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content success-color\">\r\n          <div class=\"modal-header\" style=\"border-bottom:none;\">\r\n            <h5 class=\"modal-title\" id=\"successfully-sent-modalLabel\">Email Sent Successfully!</h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from \"firebase\";\r\nexport default {\r\n  data: function() {\r\n    return {\r\n      receiver_email: \"\",\r\n      subject: \"\",\r\n      message: \"\",\r\n      email: \"\",\r\n      username: \"\",\r\n      time: \"\",\r\n      date: \"\",\r\n      canSendFlag: false,\r\n      mailType: \"\",\r\n      counterIncFlag: false,\r\n      send_count: 0\r\n    };\r\n  },\r\n  methods: {\r\n    sendNormalEmail(event) {\r\n      event.preventDefault();\r\n      this.mailType = \"Normal\";\r\n      this.sendEmail();\r\n    },\r\n    sendEmailAnonymously(event) {\r\n      event.preventDefault();\r\n      this.mailType = \"Anonymous\";\r\n      this.sendEmail();\r\n    },\r\n    sendEmail() {\r\n      if (\r\n        this.receiver_email == \"\" ||\r\n        this.subject == \"\" ||\r\n        this.message == \"\"\r\n      ) {\r\n        document.getElementById(\"emptyFieldError\").style.display = \"block\";\r\n      } else {\r\n        document.getElementById(\"emptyFieldError\").style.display = \"none\";\r\n\r\n        if (this.verifySender() == false) {\r\n          document.getElementById(\"invalidEmail\").style.display = \"block\";\r\n        }\r\n      }\r\n    },\r\n    verifySender() {\r\n      if (this.receiver_email.length < 11) return false;\r\n      if (!this.receiver_email.includes(\"@eveil.com\")) return false;\r\n      var to_uid = this.receiver_email.substring(\r\n        0,\r\n        this.receiver_email.length - 10\r\n      );\r\n      var ref = \"user/\" + to_uid;\r\n      var userRef = firebase.database().ref(ref);\r\n      userRef.on(\r\n        \"value\",\r\n        data => {\r\n          var alldata = data.val();\r\n          if (alldata === null || alldata === undefined) {\r\n            document.getElementById(\"invalidEmail\").style.display = \"block\";\r\n            return;\r\n          } else {\r\n            document.getElementById(\"invalidEmail\").style.display = \"none\";\r\n            this.canSendFlag = true;\r\n          }\r\n        },\r\n        errUserData => {\r\n          console.log(errUserData);\r\n          return false;\r\n        }\r\n      );\r\n    },\r\n    updateReceiver() {\r\n      //Update receiver DB\r\n      var to_uid = this.receiver_email.substring(\r\n        0,\r\n        this.receiver_email.length - 10\r\n      );\r\n      var ref, to_userRef, newEmailRef;\r\n      if (this.mailType == \"Normal\") {\r\n        ref = \"emails/\" + to_uid + \"/received\";\r\n        to_userRef = firebase.database().ref(ref);\r\n        newEmailRef = to_userRef.push();\r\n        newEmailRef.set({\r\n          from: this.email,\r\n          subject: this.subject,\r\n          message: this.message,\r\n          bin: \"0\",\r\n          seen: \"0\",\r\n          time: this.time,\r\n          date: this.date\r\n        });\r\n      } else {\r\n        ref = \"emails/\" + to_uid + \"/veilbox\";\r\n        to_userRef = firebase.database().ref(ref);\r\n        newEmailRef = to_userRef.push();\r\n        newEmailRef.set({\r\n          from: \"Anonymous\",\r\n          subject: this.subject,\r\n          message: this.message,\r\n          bin: \"0\",\r\n          seen: \"0\",\r\n          time: this.time,\r\n          date: this.date\r\n        });\r\n      }\r\n    },\r\n    getTime() {\r\n      var today = new Date();\r\n      this.time =\r\n        today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n      this.date =\r\n        today.getDate() +\r\n        \"-\" +\r\n        (today.getMonth() + 1) +\r\n        \"-\" +\r\n        today.getFullYear();\r\n    },\r\n    updateSender() {\r\n      //Update sender DB\r\n      var ref = \"emails/\" + this.username + \"/sent\";\r\n      var userRef = firebase.database().ref(ref);\r\n      var newEmailRef = userRef.push();\r\n      newEmailRef.set({\r\n        to: this.receiver_email,\r\n        subject: this.subject,\r\n        message: this.message,\r\n        bin: \"0\",\r\n        time: this.time,\r\n        date: this.date\r\n      });\r\n      //increase send count of sender\r\n      //Get current sendEmail count\r\n      ref = \"user/\" + this.username;\r\n      userRef = firebase.database().ref(ref);\r\n      userRef.on(\r\n        \"value\",\r\n        data => {\r\n          this.send_count = data.val().sent_email;\r\n          this.counterIncFlag = true;\r\n        },\r\n        err => {\r\n          console.log(err);\r\n        }\r\n      );\r\n    },\r\n    resetForm() {\r\n      this.receiver_email = \"\";\r\n      this.subject = \"\";\r\n      this.message = \"\";\r\n      document.getElementById(\"successfully-sent-modal-btn\").click();\r\n    }\r\n  },\r\n  created() {\r\n    this.email = firebase.auth().currentUser.email;\r\n    this.username = this.email.substring(0, this.email.length - 10);\r\n  },\r\n  watch: {\r\n    canSendFlag: function() {\r\n      if (this.canSendFlag) {\r\n        this.getTime();\r\n        this.updateReceiver();\r\n        this.updateSender();\r\n        this.resetForm();\r\n      }\r\n      this.canSendFlag = false;\r\n    },\r\n    counterIncFlag: function() {\r\n      if (this.counterIncFlag) {\r\n        var ref = \"user/\" + this.username;\r\n        this.send_count++;\r\n        var from_userRef_count = firebase.database().ref(ref);\r\n        from_userRef_count.update({\r\n          sent_email: this.send_count\r\n        });\r\n      }\r\n      this.counterIncFlag = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.compose-container {\r\n  border: 1px solid #111;\r\n  border-radius: 5px;\r\n  padding: 80px 60px;\r\n}\r\n.form-group {\r\n  margin-bottom: 2rem;\r\n}\r\nlabel {\r\n  margin-bottom: 0px;\r\n}\r\n.left-btn-container {\r\n  text-align: left;\r\n}\r\n.right-btn-container {\r\n  text-align: right;\r\n}\r\n@media screen and (max-width: 767px) {\r\n  .compose-container {\r\n    padding: 60px 30px;\r\n  }\r\n  .left-btn-container,\r\n  .right-btn-container {\r\n    text-align: center;\r\n    margin: 10px auto;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/components/compose"}]}