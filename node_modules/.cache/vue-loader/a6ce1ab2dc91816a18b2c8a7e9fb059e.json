{"remainingRequest":"D:\\Programs\\Project\\project-eveil\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Programs\\Project\\project-eveil\\src\\components\\inbox\\inbox_main.vue?vue&type=style&index=0&id=551fc4ea&scoped=true&lang=css&","dependencies":[{"path":"D:\\Programs\\Project\\project-eveil\\src\\components\\inbox\\inbox_main.vue","mtime":1587552791356},{"path":"D:\\Programs\\Project\\project-eveil\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\project-eveil\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\project-eveil\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\project-eveil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\project-eveil\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLm1zZy1kZWxldGUtYnRuIHsNCiAgcG9zaXRpb246IGZpeGVkOw0KICBib3R0b206IDEwcHg7DQogIHJpZ2h0OiAxMHB4Ow0KICBib3JkZXItcmFkaXVzOiA1MCU7DQogIGJvcmRlcjogbm9uZTsNCn0NCi5tc2ctZGVsZXRlLWJ0bjpmb2N1cyB7DQogIG91dGxpbmU6IG5vbmU7DQp9DQoubXNnLWRlbGV0ZS1idG4gaSB7DQogIGZvbnQtc2l6ZTogMzBweDsNCiAgY29sb3I6IGFudGlxdWV3aGl0ZTsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzExMTsNCiAgYm9yZGVyOiAxcHggc29saWQgIzExMTsNCiAgYm9yZGVyLXJhZGl1czogNTAlOw0KICBwYWRkaW5nOiAxNXB4Ow0KfQ0KLm1zZy1kZWxldGUtYnRuIGk6aG92ZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiBhbnRpcXVld2hpdGU7DQogIGNvbG9yOiAjMTExOw0KfQ0K"},{"version":3,"sources":["inbox_main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"inbox_main.vue","sourceRoot":"src/components/inbox","sourcesContent":["<template>\r\n  <div>\r\n    <!-- Topbar will be here -->\r\n    <component v-bind:is=\"'Navbar'\"></component>\r\n    <div class=\"wrapper-body\">\r\n      <!-- Sidebar -->\r\n      <component v-bind:is=\"'Sidebar'\"></component>\r\n      <div class=\"body-container\">\r\n        <div class=\"base-demo\">\r\n          <vue-table-dynamic\r\n            :params=\"params\"\r\n            @select=\"onSelect\"\r\n            v-on:row-click=\"getClickedRow\"\r\n            ref=\"table\"\r\n          ></vue-table-dynamic>\r\n          <div style=\"text-align:center;display:none;\" id=\"no-data-error\">No data found</div>\r\n        </div>\r\n        <button class=\"msg-delete-btn\">\r\n          <i class=\"fas fa-trash-alt\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from \"firebase\";\r\nimport VueTableDynamic from \"vue-table-dynamic\";\r\nexport default {\r\n  data: function() {\r\n    return {\r\n      username: \"\",\r\n      email: \"\",\r\n      params: {\r\n        data: [[\"From\", \"Title\", \"Description\", \"id\"]],\r\n        header: \"row\",\r\n        stripe: true,\r\n        showCheck: true,\r\n        enableSearch: true,\r\n        sort: [0, 1],\r\n        pagination: true,\r\n        pageSize: 10,\r\n        pageSizes: [10, 20, 50],\r\n        columnWidth: [\r\n          { column: 0, width: \"20%\" },\r\n          { column: 1, width: \"30%\" },\r\n          { column: 2, width: \"50%\" },\r\n          { column: 3, width: \"0%\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  components: { VueTableDynamic },\r\n  methods: {\r\n    getClickedRow(index, data) {\r\n      console.log(\"getClickedRow  :\", index, data);\r\n      var url = \"/message/\" + data[3] + \"/inbox\";\r\n      this.$router.push(url);\r\n    },\r\n    getDataFromFirebase() {\r\n      var refUser = \"emails/\" + this.username + \"/received\";\r\n      var emailsRef = firebase.database().ref(refUser);\r\n      emailsRef.on(\r\n        \"value\",\r\n        data => {\r\n          var alldata = data.val();\r\n          if (alldata === null || alldata === undefined) {\r\n            document.getElementById(\"no-data-error\").style.display = \"block\";\r\n          } else {\r\n            document.getElementById(\"no-data-error\").style.display = \"none\";\r\n            var keys = Object.keys(alldata);\r\n            keys.reverse();\r\n            //console.log(keys);\r\n            keys.forEach(index => {\r\n              //console.log(alldata[index]);\r\n              if (alldata[index].bin == \"0\") {\r\n                var temp = new Array(4);\r\n                temp[0] = alldata[index].from;\r\n                temp[1] = alldata[index].subject;\r\n                temp[2] = alldata[index].message;\r\n                temp[3] = index;\r\n                this.params.data.push(temp);\r\n              }\r\n            });\r\n          }\r\n        },\r\n        errEmailsData => {\r\n          console.log(errEmailsData);\r\n        }\r\n      );\r\n    },\r\n    printPresentTime() {\r\n      var today = new Date();\r\n      var time =\r\n        today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n      console.log(time);\r\n      // document.getElementById(\"present_time\").innerHTML =\r\n      // \"Updated today at \" + time;\r\n    },\r\n    onSelect(isChecked, index, data) {\r\n      console.log(\"onSelect: \", isChecked, index, data);\r\n      console.log(\"Checked Data:\", this.$refs.table.getCheckedRowDatas(true));\r\n      console.log(\"Len: \", this.$refs.table.getCheckedRowDatas(true).length);\r\n      if (this.$refs.table.getCheckedRowDatas(true).length > 1) {\r\n        console.log(\"True\");\r\n      }\r\n    },\r\n    onSelectionChange(checkedDatas, checkedIndexs, checkedNum) {\r\n      console.log(\r\n        \"onSelectionChange: \",\r\n        checkedDatas,\r\n        checkedIndexs,\r\n        checkedNum\r\n      );\r\n    }\r\n  },\r\n  created() {\r\n    this.email = firebase.auth().currentUser.email;\r\n    this.username = this.email.substring(0, this.email.length - 10);\r\n    this.getDataFromFirebase();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.msg-delete-btn {\r\n  position: fixed;\r\n  bottom: 10px;\r\n  right: 10px;\r\n  border-radius: 50%;\r\n  border: none;\r\n}\r\n.msg-delete-btn:focus {\r\n  outline: none;\r\n}\r\n.msg-delete-btn i {\r\n  font-size: 30px;\r\n  color: antiquewhite;\r\n  background-color: #111;\r\n  border: 1px solid #111;\r\n  border-radius: 50%;\r\n  padding: 15px;\r\n}\r\n.msg-delete-btn i:hover {\r\n  background-color: antiquewhite;\r\n  color: #111;\r\n}\r\n</style>"]}]}