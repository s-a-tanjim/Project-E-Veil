{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/components/compose/compose_main.vue?9a78","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./src/components/compose/compose_main.vue?dd5b","webpack:///src/components/compose/compose_main.vue","webpack:///./src/components/compose/compose_main.vue?e4ad","webpack:///./src/components/compose/compose_main.vue"],"names":["$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","TypeError","METHOD_NAME","regexp","e","f","$includes","addToUnscopables","arrayMethodUsesToLength","USES_TO_LENGTH","ACCESSORS","1","el","render","_vm","_h","$createElement","_c","_self","tag","staticClass","_m","attrs","_v","directives","name","rawName","value","expression","domProps","on","$event","composing","receiver_email","subject","message","sendNormalEmail","sendEmailAnonymously","staticStyle","staticRenderFns","data","email","username","time","date","canSendFlag","mailType","counterIncFlag","send_count","methods","event","preventDefault","sendEmail","document","getElementById","style","display","verifySender","to_uid","substring","ref","userRef","updateReceiver","to_userRef","newEmailRef","push","set","from","bin","seen","getTime","today","Date","updateSender","to","resetForm","click","created","watch","from_userRef_count","update","sent_email","component"],"mappings":"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","file":"js/chunk-447d4303.fc4655ae.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compose_main.vue?vue&type=style&index=0&id=3ea62530&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compose_main.vue?vue&type=style&index=0&id=3ea62530&scoped=true&lang=css&\"","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Navbar',{tag:\"component\"}),_c('div',{staticClass:\"wrapper-body\"},[_c('Sidebar',{tag:\"component\"}),_c('div',{staticClass:\"body-container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-sm-12 col-md-10 col-lg-8 col-xl-8\"},[_c('form',{staticClass:\"compose-container\"},[_vm._m(0),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"receiver_email\"}},[_vm._v(\"To\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.receiver_email),expression:\"receiver_email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"receiver_email\",\"placeholder\":\"email@eveil.com\"},domProps:{\"value\":(_vm.receiver_email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.receiver_email=$event.target.value}}}),_c('small',{staticClass:\"error-msg\",attrs:{\"id\":\"invalidEmail\"}},[_vm._v(\"Invalid Email!\")])]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subject),expression:\"subject\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Subject\"},domProps:{\"value\":(_vm.subject)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.subject=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"rows\":\"4\",\"placeholder\":\"Enter your message\"},domProps:{\"value\":(_vm.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}})]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 left-btn-container\"},[_c('button',{staticClass:\"eveilbtn\",attrs:{\"type\":\"submit\"},on:{\"click\":_vm.sendNormalEmail}},[_vm._v(\"Send\")])]),_c('div',{staticClass:\"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 right-btn-container\"},[_c('button',{staticClass:\"eveilbtn\",attrs:{\"type\":\"submit\"},on:{\"click\":_vm.sendEmailAnonymously}},[_vm._v(\"Send Anonymously\")])])])])])])])],1),_c('button',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"successfully-sent-modal-btn\",\"data-toggle\":\"modal\",\"data-target\":\"#successfully-sent-modal\"}}),_vm._m(1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-md-6 col-lg-6 col-xl-6 error-msg\",staticStyle:{\"text-align\":\"center\"},attrs:{\"id\":\"emptyFieldError\"}},[_vm._v(\"Field can't be empty!\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"successfully-sent-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"successfully-sent-modalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content success-color\"},[_c('div',{staticClass:\"modal-header\",staticStyle:{\"border-bottom\":\"none\"}},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"successfully-sent-modalLabel\"}},[_vm._v(\"Email Sent Successfully!\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- Topbar will be here -->\r\n    <component v-bind:is=\"'Navbar'\"></component>\r\n    <div class=\"wrapper-body\">\r\n      <!-- Sidebar -->\r\n      <component v-bind:is=\"'Sidebar'\"></component>\r\n      <div class=\"body-container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12 col-sm-12 col-md-10 col-lg-8 col-xl-8\">\r\n            <form class=\"compose-container\">\r\n              <div class=\"row justify-content-center\">\r\n                <div\r\n                  class=\"col-md-6 col-lg-6 col-xl-6 error-msg\"\r\n                  id=\"emptyFieldError\"\r\n                  style=\"text-align:center;\"\r\n                >Field can't be empty!</div>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"receiver_email\">To</label>\r\n                <input\r\n                  type=\"email\"\r\n                  class=\"form-control\"\r\n                  id=\"receiver_email\"\r\n                  v-model=\"receiver_email\"\r\n                  placeholder=\"email@eveil.com\"\r\n                />\r\n                <small id=\"invalidEmail\" class=\"error-msg\">Invalid Email!</small>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <input type=\"text\" class=\"form-control\" v-model=\"subject\" placeholder=\"Subject\" />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <textarea\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  rows=\"4\"\r\n                  v-model=\"message\"\r\n                  placeholder=\"Enter your message\"\r\n                />\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 left-btn-container\">\r\n                  <button class=\"eveilbtn\" type=\"submit\" @click=\"sendNormalEmail\">Send</button>\r\n                </div>\r\n                <div class=\"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 right-btn-container\">\r\n                  <button\r\n                    class=\"eveilbtn\"\r\n                    type=\"submit\"\r\n                    @click=\"sendEmailAnonymously\"\r\n                  >Send Anonymously</button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Button trigger modal -->\r\n    <button\r\n      id=\"successfully-sent-modal-btn\"\r\n      style=\"display:none;\"\r\n      data-toggle=\"modal\"\r\n      data-target=\"#successfully-sent-modal\"\r\n    ></button>\r\n\r\n    <!-- Modal -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"successfully-sent-modal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"successfully-sent-modalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content success-color\">\r\n          <div class=\"modal-header\" style=\"border-bottom:none;\">\r\n            <h5 class=\"modal-title\" id=\"successfully-sent-modalLabel\">Email Sent Successfully!</h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from \"firebase\";\r\nexport default {\r\n  data: function() {\r\n    return {\r\n      receiver_email: \"\",\r\n      subject: \"\",\r\n      message: \"\",\r\n      email: \"\",\r\n      username: \"\",\r\n      time: \"\",\r\n      date: \"\",\r\n      canSendFlag: false,\r\n      mailType: \"\",\r\n      counterIncFlag: false,\r\n      send_count: 0\r\n    };\r\n  },\r\n  methods: {\r\n    sendNormalEmail(event) {\r\n      event.preventDefault();\r\n      this.mailType = \"Normal\";\r\n      this.sendEmail();\r\n    },\r\n    sendEmailAnonymously(event) {\r\n      event.preventDefault();\r\n      this.mailType = \"Anonymous\";\r\n      this.sendEmail();\r\n    },\r\n    sendEmail() {\r\n      if (\r\n        this.receiver_email == \"\" ||\r\n        this.subject == \"\" ||\r\n        this.message == \"\"\r\n      ) {\r\n        document.getElementById(\"emptyFieldError\").style.display = \"block\";\r\n      } else {\r\n        document.getElementById(\"emptyFieldError\").style.display = \"none\";\r\n\r\n        if (this.verifySender() == false) {\r\n          document.getElementById(\"invalidEmail\").style.display = \"block\";\r\n        }\r\n      }\r\n    },\r\n    verifySender() {\r\n      if (this.receiver_email.length < 11) return false;\r\n      if (!this.receiver_email.includes(\"@eveil.com\")) return false;\r\n      var to_uid = this.receiver_email.substring(\r\n        0,\r\n        this.receiver_email.length - 10\r\n      );\r\n      var ref = \"user/\" + to_uid;\r\n      var userRef = firebase.database().ref(ref);\r\n      userRef.on(\r\n        \"value\",\r\n        data => {\r\n          var alldata = data.val();\r\n          if (alldata === null || alldata === undefined) {\r\n            document.getElementById(\"invalidEmail\").style.display = \"block\";\r\n            return;\r\n          } else {\r\n            document.getElementById(\"invalidEmail\").style.display = \"none\";\r\n            this.canSendFlag = true;\r\n          }\r\n        },\r\n        errUserData => {\r\n          console.log(errUserData);\r\n          return false;\r\n        }\r\n      );\r\n    },\r\n    updateReceiver() {\r\n      //Update receiver DB\r\n      var to_uid = this.receiver_email.substring(\r\n        0,\r\n        this.receiver_email.length - 10\r\n      );\r\n      var ref, to_userRef, newEmailRef;\r\n      if (this.mailType == \"Normal\") {\r\n        ref = \"emails/\" + to_uid + \"/received\";\r\n        to_userRef = firebase.database().ref(ref);\r\n        newEmailRef = to_userRef.push();\r\n        newEmailRef.set({\r\n          from: this.email,\r\n          subject: this.subject,\r\n          message: this.message,\r\n          bin: \"0\",\r\n          seen: \"0\",\r\n          time: this.time,\r\n          date: this.date\r\n        });\r\n      } else {\r\n        ref = \"emails/\" + to_uid + \"/veilbox\";\r\n        to_userRef = firebase.database().ref(ref);\r\n        newEmailRef = to_userRef.push();\r\n        newEmailRef.set({\r\n          from: \"Anonymous\",\r\n          subject: this.subject,\r\n          message: this.message,\r\n          bin: \"0\",\r\n          seen: \"0\",\r\n          time: this.time,\r\n          date: this.date\r\n        });\r\n      }\r\n    },\r\n    getTime() {\r\n      var today = new Date();\r\n      this.time =\r\n        today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n      this.date =\r\n        today.getDate() +\r\n        \"-\" +\r\n        (today.getMonth() + 1) +\r\n        \"-\" +\r\n        today.getFullYear();\r\n    },\r\n    updateSender() {\r\n      //Update sender DB\r\n      var ref = \"emails/\" + this.username + \"/sent\";\r\n      var userRef = firebase.database().ref(ref);\r\n      var newEmailRef = userRef.push();\r\n      newEmailRef.set({\r\n        to: this.receiver_email,\r\n        subject: this.subject,\r\n        message: this.message,\r\n        bin: \"0\",\r\n        time: this.time,\r\n        date: this.date\r\n      });\r\n      //increase send count of sender\r\n      //Get current sendEmail count\r\n      ref = \"user/\" + this.username;\r\n      userRef = firebase.database().ref(ref);\r\n      userRef.on(\r\n        \"value\",\r\n        data => {\r\n          this.send_count = data.val().sent_email;\r\n          this.counterIncFlag = true;\r\n        },\r\n        err => {\r\n          console.log(err);\r\n        }\r\n      );\r\n    },\r\n    resetForm() {\r\n      this.receiver_email = \"\";\r\n      this.subject = \"\";\r\n      this.message = \"\";\r\n      document.getElementById(\"successfully-sent-modal-btn\").click();\r\n    }\r\n  },\r\n  created() {\r\n    this.email = firebase.auth().currentUser.email;\r\n    this.username = this.email.substring(0, this.email.length - 10);\r\n  },\r\n  watch: {\r\n    canSendFlag: function() {\r\n      if (this.canSendFlag) {\r\n        this.getTime();\r\n        this.updateReceiver();\r\n        this.updateSender();\r\n        this.resetForm();\r\n      }\r\n      this.canSendFlag = false;\r\n    },\r\n    counterIncFlag: function() {\r\n      if (this.counterIncFlag) {\r\n        var ref = \"user/\" + this.username;\r\n        this.send_count++;\r\n        var from_userRef_count = firebase.database().ref(ref);\r\n        from_userRef_count.update({\r\n          sent_email: this.send_count\r\n        });\r\n      }\r\n      this.counterIncFlag = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.compose-container {\r\n  border: 1px solid #111;\r\n  border-radius: 5px;\r\n  padding: 80px 60px;\r\n}\r\n.form-group {\r\n  margin-bottom: 2rem;\r\n}\r\nlabel {\r\n  margin-bottom: 0px;\r\n}\r\n.left-btn-container {\r\n  text-align: left;\r\n}\r\n.right-btn-container {\r\n  text-align: right;\r\n}\r\n@media screen and (max-width: 767px) {\r\n  .compose-container {\r\n    padding: 60px 30px;\r\n  }\r\n  .left-btn-container,\r\n  .right-btn-container {\r\n    text-align: center;\r\n    margin: 10px auto;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compose_main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compose_main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./compose_main.vue?vue&type=template&id=3ea62530&scoped=true&\"\nimport script from \"./compose_main.vue?vue&type=script&lang=js&\"\nexport * from \"./compose_main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./compose_main.vue?vue&type=style&index=0&id=3ea62530&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ea62530\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}