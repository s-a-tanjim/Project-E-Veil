(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67c94f70"],{"1dde":function(e,t,a){var s=a("d039"),i=a("b622"),n=a("2d00"),l=i("species");e.exports=function(e){return n>=51||!s((function(){var t=[],a=t.constructor={};return a[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1f47":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Navbar",{tag:"component"}),a("div",{staticClass:"wrapper-body"},[a("Sidebar",{tag:"component"}),a("div",{staticClass:"body-container"},[a("div",{staticClass:"base-demo"},[a("vue-table-dynamic",{ref:"table",attrs:{params:e.params},on:{"selection-change":e.onSelectionChange,"row-click":e.getClickedRow}}),1==e.noDataFoundFlag?a("div",{staticStyle:{"text-align":"center"}},[e._v("No data found")]):e._e()],1),a("div",{staticStyle:{"text-align":"right",color:"gray","margin-top":"30px"}},[a("p",[e._v("Last updated at "+e._s(e.updateTime))])]),e.selectMsgFlag?a("button",{staticClass:"msg-delete-btn msg-recover-btn",on:{click:e.recoverMsg}},[a("i",{staticClass:"fas fa-redo"})]):e._e(),e.selectMsgFlag?a("button",{staticClass:"msg-delete-btn",attrs:{"data-toggle":"modal","data-target":"#deleteEmailsModal"}},[a("i",{staticClass:"fas fa-trash-alt"})]):e._e(),a("div",{staticClass:"modal fade",attrs:{id:"deleteEmailsModal",tabindex:"-1",role:"dialog","aria-labelledby":"deleteEmailsModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),e._m(1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"eveilbtn",attrs:{type:"button","data-dismiss":"modal"}},[e._v("No")]),a("button",{staticClass:"eveilbtn",attrs:{type:"button"},on:{click:e.deleteMsg}},[e._v("Yes")])])])])])])],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",staticStyle:{color:"#ba2937"},attrs:{id:"deleteEmailsModalLabel"}},[e._v("Delete email permanently")]),a("button",{staticClass:"close",attrs:{type:"button",id:"closebtn-delete-modal","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-body"},[a("p",[e._v("Are you sure you want to delete selected items?")]),a("p",[a("i",{staticClass:"fas fa-exclamation-triangle",staticStyle:{"margin-right":"10px"}}),e._v("All selected data will be deleted permanently! ")])])}],n=(a("4160"),a("a434"),a("b64b"),a("159b"),a("8aa5")),l=a.n(n),o=a("b040"),r=a.n(o),c={data:function(){return{username:"",email:"",selectMsgFlag:!1,noDataFoundFlag:null,updateTime:" ",params:{data:[["From/To","Title","Description","id","src"]],header:"row",stripe:!0,showCheck:!0,enableSearch:!0,sort:[0,1],pagination:!0,pageSize:10,pageSizes:[10,20,50],columnWidth:[{column:0,width:"20%"},{column:1,width:"30%"},{column:2,width:"50%"},{column:3,width:"0%"},{column:4,width:"0%"}]}}},components:{VueTableDynamic:r.a},methods:{getClickedRow:function(e,t){if(0!=e){var a="/message/"+t[3];"received"==t[4]&&(a+="/inbox"),"sent"==t[4]&&(a+="/outbox"),"veilbox"==t[4]&&(a+="/veilbox"),this.$router.push(a)}},getDataFromFirebase:function(e){var t=this,a="emails/"+this.username+"/"+e,s=l.a.database().ref(a);s.on("value",(function(a){var s=a.val();if(null!=s&&void 0!=s){var i=Object.keys(s);i.reverse(),i.forEach((function(a){if("1"==s[a].bin){t.noDataFoundFlag=!1;var i=new Array(5);"received"==e||"veilbox"==e?i[0]=s[a].from:"sent"==e&&(i[0]=s[a].to),i[1]=s[a].subject,i[2]=s[a].message,i[3]=a,i[4]="received"==e?"received":"veilbox"==e?"veilbox":"sent",t.params.data.push(i)}}))}}),(function(e){console.log(e)}))},getData:function(){this.getDataFromFirebase("received"),this.getDataFromFirebase("sent"),this.getDataFromFirebase("veilbox"),this.params.data.length>1?this.noDataFoundFlag=!1:this.noDataFoundFlag=!0,this.printPresentTime()},printPresentTime:function(){var e=new Date;this.updateTime=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},onSelectionChange:function(){this.$refs.table.getCheckedRowDatas(!0).length>1?this.selectMsgFlag=!0:this.selectMsgFlag=!1},delete_recover_SelectedMsg:function(e){var t,a,s,i=new Object,n=new Object,o=new Object,r=!1,c=!1,d=!1;"delete"==e?t=null:"recover"==e&&(t="0");for(var u=1;u<this.$refs.table.getCheckedRowDatas(!0).length;u++){var h;"received"==this.$refs.table.getCheckedRowDatas(!0)[u][4]?(h=this.$refs.table.getCheckedRowDatas(!0)[u][3]+"","0"==t&&(h+="/bin"),i[h]=t,r=!0):"sent"==this.$refs.table.getCheckedRowDatas(!0)[u][4]?(h=this.$refs.table.getCheckedRowDatas(!0)[u][3]+"","0"==t&&(h+="/bin"),n[h]=t,c=!0):"veilbox"==this.$refs.table.getCheckedRowDatas(!0)[u][4]&&(h=this.$refs.table.getCheckedRowDatas(!0)[u][3]+"","0"==t&&(h+="/bin"),o[h]=t,d=!0)}for(u=0;u<this.params.data.length;u++)(r&&"received"==this.params.data[u][4]||c&&"sent"==this.params.data[u][4]||d&&"veilbox"==this.params.data[u][4])&&(this.params.data.splice(u,1),u--);r&&(a="emails/"+this.username+"/received/",s=l.a.database().ref(a),s.update(i).then((function(){console.log("success received")}))),c&&(a="emails/"+this.username+"/sent/",s=l.a.database().ref(a),s.update(n).then((function(){console.log("success sent")}))),d&&(a="emails/"+this.username+"/veilbox/",s=l.a.database().ref(a),s.update(o).then((function(){console.log("success veilbox")})))},deleteMsg:function(){this.delete_recover_SelectedMsg("delete"),this.printPresentTime(),this.selectMsgFlag=!1,document.getElementById("closebtn-delete-modal").click()},recoverMsg:function(){this.delete_recover_SelectedMsg("recover"),this.printPresentTime(),this.selectMsgFlag=!1}},created:function(){this.email=l.a.auth().currentUser.email,this.username=this.email.substring(0,this.email.length-10),this.getData()}},d=c,u=(a("7854"),a("2877")),h=Object(u["a"])(d,s,i,!1,null,"1fbb6182",null);t["default"]=h.exports},4351:function(e,t,a){},7854:function(e,t,a){"use strict";var s=a("4351"),i=a.n(s);i.a},8418:function(e,t,a){"use strict";var s=a("c04e"),i=a("9bf2"),n=a("5c6c");e.exports=function(e,t,a){var l=s(t);l in e?i.f(e,l,n(0,a)):e[l]=a}},a434:function(e,t,a){"use strict";var s=a("23e7"),i=a("23cb"),n=a("a691"),l=a("50c4"),o=a("7b0b"),r=a("65f0"),c=a("8418"),d=a("1dde"),u=a("ae40"),h=d("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,b=Math.min,f=9007199254740991,v="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!h||!m},{splice:function(e,t){var a,s,d,u,h,m,p=o(this),w=l(p.length),C=i(e,w),F=arguments.length;if(0===F?a=s=0:1===F?(a=0,s=w-C):(a=F-2,s=b(g(n(t),0),w-C)),w+a-s>f)throw TypeError(v);for(d=r(p,s),u=0;u<s;u++)h=C+u,h in p&&c(d,u,p[h]);if(d.length=s,a<s){for(u=C;u<w-s;u++)h=u+s,m=u+a,h in p?p[m]=p[h]:delete p[m];for(u=w;u>w-s+a;u--)delete p[u-1]}else if(a>s)for(u=w-s;u>C;u--)h=u+s-1,m=u+a-1,h in p?p[m]=p[h]:delete p[m];for(u=0;u<a;u++)p[u+C]=arguments[u+2];return p.length=w-s+a,d}})}}]);
//# sourceMappingURL=chunk-67c94f70.f3299bba.js.map