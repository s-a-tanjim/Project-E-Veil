(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d094"],{f67e:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Navbar",{tag:"component"}),a("div",{staticClass:"wrapper-body"},[a("Sidebar",{tag:"component"}),a("div",{staticClass:"body-container"},[a("div",{staticClass:"base-demo"},[a("vue-table-dynamic",{ref:"table",attrs:{params:e.params},on:{"selection-change":e.onSelectionChange,"row-click":e.getClickedRow}}),a("div",{staticStyle:{"text-align":"center",display:"none"},attrs:{id:"no-data-error"}},[e._v("No data found")])],1),a("div",{staticStyle:{"text-align":"right",color:"gray","margin-top":"30px"}},[a("p",[e._v("Last updated at "+e._s(e.updateTime))])]),e.selectMsgFlag?a("button",{staticClass:"msg-delete-btn",on:{click:e.deleteMsg}},[a("i",{staticClass:"fas fa-trash-alt"})]):e._e()])],1)],1)},i=[],n=(a("4160"),a("b64b"),a("159b"),a("8aa5")),r=a.n(n),o=a("b040"),l=a.n(o),c={data:function(){return{username:"",email:"",selectMsgFlag:!1,updateTime:" ",params:{data:[["From","Title","Description","id"]],header:"row",stripe:!0,showCheck:!0,enableSearch:!0,sort:[0,1],pagination:!0,pageSize:10,pageSizes:[10,20,50],columnWidth:[{column:0,width:"20%"},{column:1,width:"30%"},{column:2,width:"50%"},{column:3,width:"0%"}]}}},components:{VueTableDynamic:l.a},methods:{getClickedRow:function(e,t){if(0!=e){var a="/message/"+t[3]+"/veilbox";this.$router.push(a)}},getDataFromFirebase:function(){var e=this,t="emails/"+this.username+"/veilbox",a=r.a.database().ref(t);a.on("value",(function(t){var a=t.val();if(null===a||void 0===a)document.getElementById("no-data-error").style.display="block";else{document.getElementById("no-data-error").style.display="none";var s=Object.keys(a);s.reverse(),s.forEach((function(t){if("0"==a[t].bin){var s=new Array(4);s[0]=a[t].from,s[1]=a[t].subject,s[2]=a[t].message,s[3]=t,e.params.data.push(s)}}))}e.printPresentTime()}),(function(e){console.log(e)}))},printPresentTime:function(){var e=new Date;this.updateTime=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},onSelectionChange:function(){this.$refs.table.getCheckedRowDatas(!0).length>1?this.selectMsgFlag=!0:this.selectMsgFlag=!1},deleteMsg:function(){for(var e=this,t=new Object,a=1;a<this.$refs.table.getCheckedRowDatas(!0).length;a++){var s=this.$refs.table.getCheckedRowDatas(!0)[a][3]+"/bin";t[s]="1"}while(this.params.data.length>1)this.params.data.pop();var i="emails/"+this.username+"/veilbox/",n=r.a.database().ref(i);n.update(t).then((function(){e.printPresentTime(),e.selectMsgFlag=!1}))}},created:function(){this.email=r.a.auth().currentUser.email,this.username=this.email.substring(0,this.email.length-10),this.getDataFromFirebase()}},d=c,u=a("2877"),h=Object(u["a"])(d,s,i,!1,null,"38a8d470",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d22d094.fb4ecc13.js.map